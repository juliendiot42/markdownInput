image: rocker/verse

stages:
  - checkPackage

before_script:
  - apt-get update
  - r -e 'install.packages(c("devtools", "roxygen2", "testthat", "shiny", "shinyAce", "markdown"))'

documentation:
  stage: checkPackage
  script:
    - r -e 'devtools::document()'

check:
  stage: checkPackage
  script:
    - r -e 'devtools::build()'
    - cd ..
    - R CMD check --as-cran markdownInput_0.1.2.tar.gz

unittests:
  stage: checkPackage
  script:
    - r -e 'devtools::test()'

install:
  stage: checkPackage
  script:
    - r -e 'devtools::install()'
